#include<iostream>
#include<algorithm>
#include<cstring>
using namespace std;
const int N = 10010;
int n, m, i;
int arr[N];
int mars[N];
bool st[N];
int res = 0;
bool return0 = false;
void dfs(int x) {
	if(return0) {
		return ;
	}
	if(x > n) {
		res++;
		if(res == m + 1) {
			return0 = true;
			for(i = 1; i <= n; i++) {
				printf("%d",arr[i]);
			}
		}
		return ;
	}
	for(i =1; i <= n; i++) {
		if(!res) {
			i = mars[x];
		}
		if(!st[i]) {
			st[i] = true;
			arr[x] = i;
			dfs(x+1);
			st[i] = false;
			arr[x] = 0;
		} 
	}
}
int main() {
	scanf("%d%d",&n,&m);
	for(i = 1; i<= n; i++) {
		scanf("%d",&mars[i]);
	}
	dfs(1);
	return 0;
}
